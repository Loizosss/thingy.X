MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[205]: Found directive in column 1. (LIST)
                      00001 LIST    P=16F877
Warning[205]: Found directive in column 1. (INCLUDE)
                      00002 INCLUDE "P16F877.INC"
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Jan 30 2017
                      00005 ;  MPASM PIC16F877 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2017 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
Message[301]: MESSAGE: (Processor-header file mismatch.  Verify selected processor.)
                      00541         LIST
                      00003 
                      00004 ; LCD Parameters
  00000020            00005 LOOP    EQU     H'20'           ;loop counter 1 - general
  00000021            00006 LOOPA   EQU     H'21'           ;loop counter 2 - LCD use only
  00000049            00007 LOOPB   EQU     H'49'
  00000022            00008 CLKCNT  EQU     H'22'           ;125 secs counter
  00000023            00009 STORE   EQU     H'23'           ;general store
  00000024            00010 RSLINE  EQU     H'24'           ;bit 4 RS line flag for LCD
  00000027            00011 PWD1    EQU     H'27'           ;storing the password 1st char
  00000028            00012 PWD2    EQU     H'28'           ;storing the password 2nd char
  00000029            00013 PWD3    EQU     H'29'           ;storing the password 3rd char
  00000030            00014 PWD4    EQU     H'30'           ;storing the password 4th char
  00000031            00015 APWD1   EQU     H'31'
  00000032            00016 APWD2   EQU     H'32'
  00000033            00017 APWD3   EQU     H'33'
  00000034            00018 APWD4   EQU     H'34'
  00000035            00019 TEMPXOR EQU     H'35'
  00000036            00020 TEMP1   EQU     H'36'
  00000037            00021 CONFIRM EQU     H'37'
  00000038            00022 MENKEY  EQU     H'38'
  00000039            00023 MENU1   EQU     H'39'
  00000040            00024 MENU2   EQU     H'40'
  0000004A            00025 MENU3   EQU     H'4A'
  00000041            00026 YES     EQU     H'41'
  00000042            00027 NO      EQU     H'42'
  00000043            00028 YESORNO EQU     H'43'
  00000044            00029 ZONECHK EQU     H'44'
  00000045            00030 ZONE1   EQU     H'45'
  00000046            00031 ZONE2   EQU     H'46'
  00000047            00032 ZONE3   EQU     H'47'
  00000048            00033 ZONE4   EQU     H'48'
  00000007            00034 PORTC   EQU     H'07'
  00000050            00035 TRICKER EQU     H'50'
  00000000            00036 DATA_EE_ADDR    EQU     H'00'
  00000005            00037 DATA_EE_DATA    EQU     H'05'
                      00038 
                      00039 
                      00040 ;Keypad Parameters
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000025            00041 KEY             EQU     H'25'           ;Count of keys
  00000026            00042 LOOP1           EQU     H'26'
                      00043 
0000                  00044                 ORG     0x00
0000   2801           00045                 GOTO    START
                      00046 
0001                  00047 START   
0001   1683 1303      00048                 BANKSEL TRISB
                      00049         
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0003   0186           00050                 CLRF    TRISB           ;Port B0-B7 as output
                      00051 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0004   0187           00052                 CLRF    TRISC
                      00053 
                      00054 
0005   30F0           00055                 MOVLW   B'11110000'     ;Port D0-D3 as output and D4-D7 as input
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0006   0088           00056                 MOVWF   TRISD
                      00057 
0007   30FF           00058                 MOVLW   B'11111111'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0008   0085           00059                 MOVWF   TRISA
                      00060 
0009   3006           00061                 MOVLW   B'00000110'     ;set timer ratio 1:128
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000A   0081           00062                 MOVWF   OPTION_REG              
                      00063                 
000B   1450           00064                 BSF     TRICKER,0
000C   1283 1303      00065                 BANKSEL PORTB
000E   203C           00066                 CALL    DEFAUTPWD
000F   2045           00067                 CALL    INITZONE
                      00068 
                      00069                 
0010   2179           00070 MAIN            CALL    LCDSET          ;Configure the LCD display
0011   2187           00071                 CALL    LCDMSG
0012   30C0           00072                 MOVLW   H'C0'
0013   21A5           00073                 CALL    LCDCMD
                      00074                 
                      00075         ;       CALL    SETPWD
                      00076         ;       CALL    LCDSET
                      00077         ;       CALL    CONFMSG
                      00078         ;       CALL    LCDSET
0014   204A           00079                 CALL    CHKPWD
0015   2179           00080                 CALL    LCDSET
0016   2021           00081                 CALL    MENU
0017   215A           00082                 CALL    ERRMSG
0018   14D0           00083                 BSF     TRICKER,1
0019   1CD0           00084                 BTFSS   TRICKER, 1
001A   10D0           00085                 BCF     TRICKER, 1
                      00086         ;       CALL    NAYE
001B   20B0           00087                 CALL    BUZZ
001C   2810           00088                 GOTO    MAIN
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00089 
                      00090 
                      00091 
                      00092 ;--------------------------------------------------
                      00093 
001D   1987           00094 NAYE            BTFSC   PORTC,3
001E   20B0           00095                 CALL    BUZZ
001F   281D           00096                 GOTO    NAYE 
0020   0008           00097                 RETURN 
                      00098         
                      00099 ;-------------------------------------------------
0021   2035           00100 MENU            CALL    SETMENV
0022   2101           00101                 CALL    SETMSG 
0023   30C0           00102                 MOVLW   H'C0'
0024   21A5           00103                 CALL    LCDCMD
0025   211C           00104                 CALL    ZONEMSG
0026   2027           00105                 CALL    CHKMEN
                      00106                 
                      00107                 
0027   2035           00108 CHKMEN          CALL    SETMENV
0028   21C8           00109                 CALL    GETKEY
0029   00B8           00110                 MOVWF   MENKEY
                      00111                 
002A   0838           00112                 MOVFW   MENKEY  
Message[305]: Using default destination of 1 (file).
002B   06B9           00113                 XORWF   MENU1
002C   1903           00114                 BTFSC   STATUS, Z
002D   2070           00115                 CALL    SETPWD 
Message[305]: Using default destination of 1 (file).
002E   06C0           00116                 XORWF   MENU2
002F   1903           00117                 BTFSC   STATUS, Z
0030   2085           00118                 CALL    ZONMEN
Message[305]: Using default destination of 1 (file).
0031   06CA           00119                 XORWF   MENU3
0032   1903           00120                 BTFSC   STATUS, Z
0033   2010           00121                 CALL    MAIN
0034   2827           00122                 GOTO    CHKMEN
                      00123                 
0035   3031           00124 SETMENV         MOVLW   H'31'
0036   00B9           00125                 MOVWF   MENU1
                      00126                 
0037   3032           00127                 MOVLW   H'32'
0038   00C0           00128                 MOVWF   MENU2
                      00129                 
0039   3033           00130                 MOVLW   H'33'
003A   00CA           00131                 MOVWF   MENU3
003B   0008           00132                 RETURN
                      00133 
                      00134                 
                      00135 ;----------------------------------------------
                      00136 
003C   3038           00137 DEFAUTPWD       MOVLW   H'38'
003D   00A7           00138                 MOVWF   PWD1
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00139         
003E   3038           00140                 MOVLW   H'38'
003F   00A8           00141                 MOVWF   PWD2
                      00142         
0040   3038           00143                 MOVLW   H'38'
0041   00A9           00144                 MOVWF   PWD3
                      00145                 
0042   3038           00146                 MOVLW   H'38'
0043   00B0           00147                 MOVWF   PWD4    
0044   0008           00148                 RETURN
                      00149 
0045   1045           00150 INITZONE        BCF     ZONE1,0
0046   1046           00151                 BCF     ZONE2,0
0047   1047           00152                 BCF     ZONE3,0
0048   1048           00153                 BCF     ZONE4,0
0049   0008           00154                 RETURN
                      00155 
                      00156 
                      00157 
                      00158 
                      00159 
                      00160 
004A   21C8           00161 CHKPWD          CALL    GETKEY
004B   00B1           00162                 MOVWF   APWD1
004C   21A2           00163                 CALL    LCDDATA
                      00164                 
004D   21C8           00165                 CALL    GETKEY
004E   00B2           00166                 MOVWF   APWD2
004F   21A2           00167                 CALL    LCDDATA
                      00168 
0050   21C8           00169                 CALL    GETKEY
0051   00B3           00170                 MOVWF   APWD3
0052   21A2           00171                 CALL    LCDDATA
                      00172                 
0053   21C8           00173                 CALL    GETKEY
0054   00B4           00174                 MOVWF   APWD4
0055   21A2           00175                 CALL    LCDDATA
                      00176 
0056   1037           00177                 BCF     CONFIRM, 0
                      00178                 
0057   0827           00179                 MOVFW   PWD1    ;TEST1
Message[305]: Using default destination of 1 (file).
0058   06B1           00180                 XORWF   APWD1
0059   00B5           00181                 MOVWF   TEMPXOR
005A   1D03           00182                 BTFSS   STATUS, Z
005B   0008           00183                 RETURN
005C   0828           00184                 MOVFW   PWD2    ;TEST2
Message[305]: Using default destination of 1 (file).
005D   06B2           00185                 XORWF   APWD2
005E   00B5           00186                 MOVWF   TEMPXOR
005F   1D03           00187                 BTFSS   STATUS, Z
0060   0008           00188                 RETURN
0061   0829           00189                 MOVFW   PWD3    ;TEST3
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[305]: Using default destination of 1 (file).
0062   06B3           00190                 XORWF   APWD3
0063   00B5           00191                 MOVWF   TEMPXOR
0064   1D03           00192                 BTFSS   STATUS, Z
0065   0008           00193                 RETURN  
0066   0830           00194                 MOVFW   PWD4    ;TEST4
Message[305]: Using default destination of 1 (file).
0067   06B4           00195                 XORWF   APWD4
0068   00B5           00196                 MOVWF   TEMPXOR
0069   1D03           00197                 BTFSS   STATUS, Z
006A   0008           00198                 RETURN
006B   2179           00199                 CALL    LCDSET
006C   213B           00200                 CALL    CONFMSG
006D   2179           00201                 CALL    LCDSET
006E   1437           00202                 BSF     CONFIRM, 0
006F   0008           00203                 RETURN
                      00204 
                      00205                 
                      00206 ;Setup password
                      00207 ;----------------------------------------------------------------
0070   2179           00208 SETPWD          CALL    LCDSET
0071   20E7           00209                 CALL    SETPWDMSG
0072   2074           00210                 CALL    SUBSETPWD
0073   2010           00211                 CALL    MAIN
                      00212                         
                      00213 
                      00214 
0074   30C0           00215 SUBSETPWD       MOVLW   H'C0'
0075   21A5           00216                 CALL    LCDCMD
                      00217                 
0076   21C8           00218                 CALL    GETKEY
0077   00A7           00219                 MOVWF   PWD1
0078   21A2           00220                 CALL    LCDDATA
                      00221                 
0079   21C8           00222                 CALL    GETKEY
007A   00A8           00223                 MOVWF   PWD2
007B   21A2           00224                 CALL    LCDDATA
                      00225 
007C   21C8           00226                 CALL    GETKEY
007D   00A9           00227                 MOVWF   PWD3
007E   21A2           00228                 CALL    LCDDATA
                      00229                 
007F   21C8           00230                 CALL    GETKEY
0080   00B0           00231                 MOVWF   PWD4
0081   21A2           00232                 CALL    LCDDATA
                      00233                 
0082   2179           00234                 CALL    LCDSET
0083   213B           00235                 CALL    CONFMSG
0084   0008           00236                 RETURN
                      00237 
                      00238                 
                      00239 ;Zone menu
                      00240 ;-------------------------------------------------------------------
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0085   2035           00241 ZONMEN          CALL    SETMENV
0086   2179           00242                 CALL    LCDSET
0087   20CC           00243                 CALL    SLTZONEMSG
0088   30C0           00244                 MOVLW   H'C0'
0089   21A5           00245                 CALL    LCDCMD
008A   20B3           00246                 CALL    SHWZONEMSG
                      00247 
008B   2035           00248 CHKZONMEN       CALL    SETMENV
008C   21C8           00249                 CALL    GETKEY
008D   00B8           00250                 MOVWF   MENKEY
008E   0838           00251                 MOVFW   MENKEY  
Message[305]: Using default destination of 1 (file).
008F   06B9           00252                 XORWF   MENU1
0090   1903           00253                 BTFSC   STATUS, Z
0091   2211           00254                 CALL    SELECTZONE
Message[305]: Using default destination of 1 (file).
0092   06C0           00255                 XORWF   MENU2
0093   1903           00256                 BTFSC   STATUS, Z
0094   22D1           00257                 CALL    SHOWZONES
0095   2827           00258                 GOTO    CHKMEN
                      00259                 
                      00260 ;Enter Zone message
                      00261 ;------------------------------------------------               
                      00262                 
0096   01A0           00263 SLTZMSG         CLRF    LOOP            ;clear loop
0097   1624           00264                 BSF     RSLINE,4        ;set RS for data send
0098   0820           00265 SLTZMS2         MOVF    LOOP,W          ;get table address
0099   140A           00266                 BSF     PCLATH,0
009A   20A3           00267                 CALL    MSGSLTZ         ;get message letter
009B   3A00           00268                 XORLW   0X00            ;0x00 is the indicator for last data
009C   1903           00269                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
009D   28A1           00270                 GOTO    MSGSLTZ1        ;YES, so end the DATA SEND routine
009E   2192           00271                 CALL    LCDOUT          ;No, send the data to LCD for display
009F   0AA0           00272                 INCF    LOOP,F          ;inc loop
00A0   2898           00273                 GOTO    SLTZMS2
00A1   018A           00274 MSGSLTZ1        CLRF    PCLATH          ;repeat for next one letter
00A2   0008           00275                 RETURN  
00A3   0782           00276 MSGSLTZ         ADDWF   PCL,F           
00A4   3445 344E 3454 00277                 DT "ENTER ZONE:",0      ;0 is an indicator for end of string    
       3445 3452 3420 
       345A 344F 344E 
       3445 343A 3400 
                      00278 
                      00279                 
                      00280 ;Buzzer loop  *needs loop 
                      00281 ;-----------------------------------------------------------------
Warning[202]: Argument out of range.  Least significant bits used.
00B0   30FF           00282 BUZZ            MOVLW   H'FFFF'
00B1   00C9           00283                 MOVWF   LOOPB
                      00284 ;DELAYB         BSF     PORTC, 1
                      00285 ;               CALL    PAUSBB
                      00286 ;               BCF     PORTC, 1
                      00287 ;               CALL    PAUSBB
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00288 ;               DECFSZ  LOOPB, 1
                      00289 ;;              GOTO    DELAYB
                      00290 ;               RETURN
                      00291 ;       
                      00292 ;PAUSBB         MOVLW   H'FF'           ;set minimum time between sending full bytes to
                      00293 ;               MOVWF   LOOP            ;LCD - value of 250 seems OK for this prog with
                      00294 ;DELAYKK        DECFSZ  LOOP,F          ;XTAL clk of upto 20MHz
                      00295 ;               GOTO    DELAYKK         ;keep decrementing LOOPA until zero
00B2   0008           00296                 RETURN  
                      00297                 
                      00298 
                      00299 ;2-Show Zone message
                      00300 ;--------------------------------------------------     
00B3   01A0           00301 SHWZONEMSG      CLRF    LOOP            ;clear loop
00B4   1624           00302                 BSF     RSLINE,4        ;set RS for data send
00B5   018A           00303                 CLRF    PCLATH          ; SOLVING THE PROBLEM
00B6   0820           00304 SHWZONEMSG2     MOVF    LOOP,W          ;get table address
00B7   20BF           00305                 CALL    MSGSHWZONE      ;get message letter
00B8   3A00           00306                 XORLW   0X00            ;0x00 is the indicator for last data
00B9   1903           00307                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
00BA   28BE           00308                 GOTO    MSGSHWZONE1     ;YES, so end the DATA SEND routine
00BB   2192           00309                 CALL    LCDOUT          ;No, send the data to LCD for display
00BC   0AA0           00310                 INCF    LOOP,F          ;inc loop
00BD   28B6           00311                 GOTO    SHWZONEMSG2     ;repeat for next one letter
00BE   0008           00312 MSGSHWZONE1     RETURN  
00BF   0782           00313 MSGSHWZONE      ADDWF   PCL,F           
00C0   3432 342D 3453 00314                 DT "2-Show ZONE",0      ;0 is an indicator for end of string    
       3468 346F 3477 
       3420 345A 344F 
       344E 3445 3400 
                      00315                 
                      00316 
                      00317 ;1-Select Zone message
                      00318 ;---------------------------------------------------
00CC   01A0           00319 SLTZONEMSG      CLRF    LOOP            ;clear loop
00CD   1624           00320                 BSF     RSLINE,4        ;set RS for data send
00CE   018A           00321                 CLRF    PCLATH          ; SOLVING THE PROBLEM
00CF   0820           00322 SLTZONEMSG2     MOVF    LOOP,W          ;get table address
00D0   20D8           00323                 CALL    MSGSLTZONE      ;get message letter
00D1   3A00           00324                 XORLW   0X00            ;0x00 is the indicator for last data
00D2   1903           00325                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
00D3   28D7           00326                 GOTO    MSGSLTZONE1     ;YES, so end the DATA SEND routine
00D4   2192           00327                 CALL    LCDOUT          ;No, send the data to LCD for display
00D5   0AA0           00328                 INCF    LOOP,F          ;inc loop
00D6   28CF           00329                 GOTO    SLTZONEMSG2     ;repeat for next one letter
00D7   0008           00330 MSGSLTZONE1     RETURN  
00D8   0782           00331 MSGSLTZONE      ADDWF   PCL,F           
00D9   3431 342D 3453 00332                 DT "1-Select ZONE",0    ;0 is an indicator for end of string
       3465 346C 3465 
       3463 3474 3420 
       345A 344F 344E 
       3445 3400 
                      00333                 
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00334                 
                      00335 ;Set New Password message
                      00336 ;---------------------------------------------------
00E7   01A0           00337 SETPWDMSG       CLRF    LOOP            ;clear loop
00E8   1624           00338                 BSF     RSLINE,4        ;set RS for data send
00E9   018A           00339                 CLRF    PCLATH          ; SOLVING THE PROBLEM
00EA   0820           00340 SETPWDMSG2      MOVF    LOOP,W          ;get table address
00EB   20F3           00341                 CALL    MSGSETPWD       ;get message letter
00EC   3A00           00342                 XORLW   0X00            ;0x00 is the indicator for last data
00ED   1903           00343                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
00EE   28F2           00344                 GOTO    MSGSETPWD1      ;YES, so end the DATA SEND routine
00EF   2192           00345                 CALL    LCDOUT          ;No, send the data to LCD for display
00F0   0AA0           00346                 INCF    LOOP,F          ;inc loop
00F1   28EA           00347                 GOTO    SETPWDMSG2      ;repeat for next one letter
00F2   0008           00348 MSGSETPWD1      RETURN  
00F3   0782           00349 MSGSETPWD       ADDWF   PCL,F           
00F4   3453 3445 3454 00350                 DT "SET NEW PWD:",0     ;0 is an indicator for end of string
       3420 344E 3445 
       3457 3420 3450 
       3457 3444 343A 
       3400 
                      00351 
                      00352                 
                      00353 ;1-Change Password  message
                      00354 ;--------------------------------------------------
0101   01A0           00355 SETMSG          CLRF    LOOP            ;clear loop
0102   1624           00356                 BSF     RSLINE,4        ;set RS for data send
0103   140A           00357                 BSF     PCLATH,0        ; SOLVING THE PROBLEM
0104   0820           00358 SETMS2          MOVF    LOOP,W          ;get table address
0105   210E           00359                 CALL    MSGSET          ;get message letter
0106   3A00           00360                 XORLW   0X00            ;0x00 is the indicator for last data
0107   1903           00361                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
0108   290C           00362                 GOTO    MSGSET1         ;YES, so end the DATA SEND routine
0109   2192           00363                 CALL    LCDOUT          ;No, send the data to LCD for display
010A   0AA0           00364                 INCF    LOOP,F          ;inc loop
010B   2904           00365                 GOTO    SETMS2          ;repeat for next one letter
010C   018A           00366 MSGSET1         CLRF    PCLATH
010D   0008           00367                 RETURN
010E   0782           00368 MSGSET          ADDWF   PCL,F           
010F   3431 342D 3443 00369                 DT "1-CHANGE PWD",0     ;0 is an indicator for end of string
       3448 3441 344E 
       3447 3445 3420 
       3450 3457 3444 
       3400 
                      00370                 
                      00371                 
                      00372 ;2-st zone 3-exit  message
                      00373 ;--------------------------------------------------------
011C   01A0           00374 ZONEMSG         CLRF    LOOP            ;clear loop
011D   1624           00375                 BSF     RSLINE,4
011E   140A           00376                 BSF     PCLATH,0        ;set RS for data send
011F   0820           00377 ZONEMS2         MOVF    LOOP,W          ;get table address
0120   2129           00378                 CALL    MSGZONE         ;get message letter
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0121   3A00           00379                 XORLW   0X00            ;0x00 is the indicator for last data
0122   1903           00380                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
0123   2927           00381                 GOTO    MSGZONE1        ;YES, so end the DATA SEND routine
0124   2192           00382                 CALL    LCDOUT          ;No, send the data to LCD for display
0125   0AA0           00383                 INCF    LOOP,F          ;inc loop
0126   291F           00384                 GOTO    ZONEMS2         ;repeat for next one letter
0127   018A           00385 MSGZONE1        CLRF    PCLATH
0128   0008           00386                 RETURN  
0129   0782           00387 MSGZONE         ADDWF   PCL,F           
012A   3432 342D 3453 00388                 DT "2-ST ZONE|3-EXIT",0 ;0 is an indicator for end of string
       3454 3420 345A 
       344F 344E 3445 
       347C 3433 342D 
       3445 3458 3449 
       3454 3400 
                      00389 ;------------------------------------------------------------
                      00390 ;SHWZOMSG       CLRF    LOOP            ;clear loop
                      00391 ;               BSF     RSLINE,4
                      00392 ;               CLRF    PCLATH          ;set RS for data send
                      00393 ;SHWZOMS2       MOVF    LOOP,W          ;get table address
                      00394 ;               CALL    MSGSHWZO        ;get message letter
                      00395 ;               XORLW   0X00            ;0x00 is the indicator for last data
                      00396 ;               BTFSC   STATUS,Z        ;has last LCD letter been sent?
                      00397 ;               GOTO    MSGSHWZO1       ;YES, so end the DATA SEND routine
                      00398 ;               CALL    LCDOUT          ;No, send the data to LCD for display
                      00399 ;               INCF    LOOP,F          ;inc loop
                      00400 ;               GOTO    SHWZOMS2        ;repeat for next one letter
                      00401 ;MSGSHWZO1      RETURN  
                      00402 ;MSGSHWZO       ADDWF   PCL,F           
                      00403 ;               DT "ZONE TRIGGERED:",0  ;0 is an indicator for end of string
                      00404 
                      00405                 
                      00406 ;password confirm
                      00407 ;-------------------------------------------------------------------
                      00408 ;sub-routine to send a string of alphanumeric letter to LCD module                              
013B   01A0           00409 CONFMSG         CLRF    LOOP            ;clear loop     
013C   1624           00410                 BSF     RSLINE,4        ;set RS for data send
013D   0820           00411 CONFMS2         MOVF    LOOP,W          ;get table address
013E   140A           00412                 BSF     PCLATH,0
013F   2148           00413                 CALL    MSGCONF         ;get message letter
0140   3A00           00414                 XORLW   0X00            ;0x00 is the indicator for last data
0141   1903           00415                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
0142   2946           00416                 GOTO    MSGEND1         ;YES, so end the DATA SEND routine
0143   2192           00417                 CALL    LCDOUT          ;No, send the data to LCD for display
0144   0AA0           00418                 INCF    LOOP,F          ;inc loop
0145   293D           00419                 GOTO    CONFMS2
0146   018A           00420 MSGEND1         CLRF    PCLATH          ;repeat for next one letter
0147   0008           00421                 RETURN  
0148   0782           00422 MSGCONF         ADDWF   PCL,F           
0149   3450 3441 3453 00423                 DT "PASSWD CONFIRMED",0 ;0 is an indicator for end of string
       3453 3457 3444 
       3420 3443 344F 
       344E 3446 3449 
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

       3452 344D 3445 
       3444 3400 
                      00424 
                      00425 ;sub-routine to send a string of alphanumeric letter to LCD module                              
015A   01A0           00426 ERRMSG          CLRF    LOOP            ;clear loop
015B   1624           00427                 BSF     RSLINE,4
015C   140A           00428                 BSF PCLATH,0    
015D   0820           00429 ERRMS2          MOVF    LOOP,W          ;get table address
015E   2167           00430                 CALL    MSGERR          ;get message letter
015F   3A00           00431                 XORLW   0X00            ;0x00 is the indicator for last data
0160   1903           00432                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
0161   2965           00433                 GOTO    MSGEND2         ;YES, so end the DATA SEND routine
0162   2192           00434                 CALL    LCDOUT          ;No, send the data to LCD for display
0163   0AA0           00435                 INCF    LOOP,F          ;inc loop
0164   295D           00436                 GOTO    ERRMS2          ;repeat for next one letter
0165   018A           00437 MSGEND2         CLRF    PCLATH
0166   0008           00438                 RETURN  
0167   0782           00439 MSGERR          ADDWF   PCL,F           
0168   3449 346E 3463 00440                 DT "Incorect!!!",0      ;0 is an indicator for end of string
       346F 3472 3465 
       3463 3474 3421 
       3421 3421 3400 
0174   30FA           00441 PAUS            MOVLW   D'250'          ;set minimum time between sending full bytes to
0175   00A0           00442                 MOVWF   LOOP            ;LCD - value of 250 seems OK for this prog with
0176   0BA0           00443 DELAY1          DECFSZ  LOOP,F          ;XTAL clk of upto 20MHz
0177   2976           00444                 GOTO    DELAY1          ;keep decrementing LOOPA until zero
0178   0008           00445                 RETURN          
                      00446 
                      00447 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00448 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00449 
                      00450 ;sub-routine to send a string of LCD command to LCD module
0179   21A8           00451 LCDSET          CALL    PAUSIT
017A   01A0           00452                 CLRF    LOOP            ;clr LCD set-up loop
017B   01A4           00453                 CLRF    RSLINE          ;clear RS line for instruction send
017C   140A           00454 LCDST2          BSF     PCLATH, 0       ;;;;;;;;;;;;;;;;;;;;;;;;TO FIX PAGING PROBLEM
017D   0820           00455                 MOVF    LOOP,W          ;get table address
017E   21B1           00456                 CALL    TABLCD          ;get set-up instruction
017F   3A00           00457                 XORLW   0X00            ;0x00 is the indicator for last LCD instruction
0180   1903           00458                 BTFSC   STATUS,Z        ;has last LCD set-up instruction now been done?
0181   2985           00459                 GOTO    SETEND          ;YES, so end the LCD SET routine
0182   2192           00460                 CALL    LCDOUT          ;No, send the instruction to LCD
0183   0AA0           00461                 INCF    LOOP,F          ;inc loop
0184   297C           00462                 GOTO    LCDST2          ;get the next set-up instruction
0185   21A8           00463 SETEND          CALL    PAUSIT          ;perform second 1/5th sec delay
0186   0008           00464                 RETURN                  ;to allow final LCD command to occur
                      00465                                         ;(it takes longer than the rest)
                      00466 
                      00467 ;sub-routine to send a string of alphanumeric letter to LCD module                              
0187   01A0           00468 LCDMSG          CLRF    LOOP            ;clear loop
0188   1624           00469                 BSF     RSLINE,4        ;set RS for data send
0189   0820           00470 LCDMS2          MOVF    LOOP,W          ;get table address
018A   21B7           00471                 CALL    MESSAG          ;get message letter
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

018B   3A00           00472                 XORLW   0X00            ;0x00 is the indicator for last data
018C   1903           00473                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
018D   2991           00474                 GOTO    MSGEND          ;YES, so end the DATA SEND routine
018E   2192           00475                 CALL    LCDOUT          ;No, send the data to LCD for display
018F   0AA0           00476                 INCF    LOOP,F          ;inc loop
0190   2989           00477                 GOTO    LCDMS2          ;repeat for next one letter
0191   0008           00478 MSGEND          RETURN                          
                      00479 
                      00480 ;sub-routine to send one byte data to LCD (which can be a command or alphanumeric letter
0192   00A3           00481 LCDOUT          MOVWF   STORE           ;temp store data
0193   30FA           00482                 MOVLW   D'250'          ;set minimum time between sending full bytes to
0194   00A1           00483                 MOVWF   LOOPA           ;LCD - value of 250 seems OK for this prog with
0195   0BA1           00484 DELAY           DECFSZ  LOOPA,F         ;XTAL clk of upto 20MHz
0196   2995           00485                 GOTO    DELAY           ;keep decrementing LOOPA until zero
0197   219A           00486                 CALL    SENDIT          ;send MSB
0198   219A           00487                 CALL    SENDIT          ;send LSB
0199   0008           00488                 RETURN          
                      00489 
                      00490 ;used by LCDOUT to send a 4-bit of one byte data to LCD
019A   0EA3           00491 SENDIT          SWAPF   STORE,F         ;swap data nibbles
019B   0823           00492                 MOVF    STORE,W         ;get data byte
019C   390F           00493                 ANDLW   H'0F'           ;get nibble from byte (LSB)
019D   0424           00494                 IORWF   RSLINE,W        ;OR the RS bit
019E   0086           00495                 MOVWF   PORTB           ;output the byte
019F   1686           00496                 BSF     PORTB,5         ;set E line high
01A0   1286           00497                 BCF     PORTB,5         ;set E line low
01A1   0008           00498                 RETURN                  
                      00499 
                      00500 ;sub-routine to send an alphanumeric letter in W register to LCD module
01A2   1624           00501 LCDDATA         BSF     RSLINE,4        ;set RS=1. This will set the LCD to Data mode
01A3   2192           00502                 CALL    LCDOUT
01A4   0008           00503                 RETURN                  
                      00504 
                      00505 ;sub-routine to send a LCD command in W register to LCD module
01A5   01A4           00506 LCDCMD          CLRF    RSLINE          ;set RS=0. This will set the LCD to Command mode
01A6   2192           00507                 CALL    LCDOUT
01A7   0008           00508                 RETURN  
                      00509 
                      00510 ;delay subroutine                               
01A8   3005           00511 PAUSIT          MOVLW   5               ;set delay counter to 30
01A9   00A2           00512                 MOVWF   CLKCNT          ;(for 1/150th sec x 30)
01AA   018B           00513                 CLRF    INTCON          ;clear interupt flag
01AB   1D0B           00514 PAUSE           BTFSS   INTCON,2        ;initial 1/5th sec wait before setting up LCD has a timer time-o
                            ut been detected?
01AC   29AB           00515                 GOTO    PAUSE           ;no
01AD   110B           00516                 BCF     INTCON,2        ;yes
01AE   0BA2           00517                 DECFSZ  CLKCNT,F        ;dec counter, is it zero?
01AF   29AB           00518                 GOTO    PAUSE           ;no
01B0   0008           00519                 RETURN                  ;yes
                      00520 
                      00521 ;sub-routine which consists of a string of LCD command to be setup LCD module
                      00522 ;0x00 is an indicator for end of string
01B1   0782           00523 TABLCD          ADDWF   PCL,F           ;LCD initialisation table
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01B2   3428           00524                 RETLW   B'00101000'     ;Function Set: 4-bit operation and 2 lines
01B3   340C           00525                 RETLW   B'00001100'     ;Display ON/OFF Control: set display on, cursor off, blink off
01B4   3401           00526                 RETLW   B'00000001'     ;Clear Display
01B5   3402           00527                 RETLW   B'00000010'     ;Return Home: Set cursor to home position
01B6   3400           00528                 RETLW   0X00            ;End initialisation table
                      00529 
                      00530 ;sub-routine which consists of a string of alphanumeric letters to be displayed on LCD module
                      00531 ;0x00 is an indicator for end of string
01B7   0782           00532 MESSAG          ADDWF   PCL,F           
01B8   3445 344E 3454 00533                 DT "ENTER PASSWORD:",0  ;0 is an indicator for end of string
       3445 3452 3420 
       3450 3441 3453 
       3453 3457 344F 
       3452 3444 343A 
       3400 
                      00534 
                      00535 ;----Assembly language program for interfacing Matrix Keypad module----
                      00536 
                      00537 ;sub-routine to get a keypress from Matrix Keypad module
                      00538 ;check the "column" of the Matrix Keypad
01C8   0188           00539 GETKEY          CLRF    PORTD
                      00540 
01C9   1408           00541                 BSF     PORTD,0         ;Check Column1
01CA   21EE           00542                 CALL    KEY_COL1        ;Check if there is any keypress in Row A,B,C or D of Column1 and
                             return a value for a corresponding key. 
                      00543                                         ;If no keypress found, the subroutine will return 0xFF in W regi
                            ter.
01CB   00A5           00544                 MOVWF   KEY             ;Store the return value from W to KEY (a variable which key the 
                            return keypress value).
01CC   3AFF           00545                 XORLW   0XFF            ;Check if value in W is equal to 0xFF.
01CD   1D03           00546                 BTFSS   STATUS,Z        ;Yes. This means the KEY_COL1 has returned a 0xFF in the W; ther
                            efore no keypress detected.
01CE   29DC           00547                 GOTO    FOUND1          ;No. A keypress is found from 
                      00548         
Message[305]: Using default destination of 1 (file).
01CF   0D88           00549                 RLF     PORTD           ;Check Column2
01D0   21F8           00550                 CALL    KEY_COL2        ;Check if there is any keypress in Row A,B,C or D of Column2 and
                             return a value for a corresponding key. 
                      00551                                         ;If no keypress found, the subroutine will return 0xFF in W regi
                            ter.
01D1   00A5           00552                 MOVWF   KEY             ;Store the return value from W to KEY (a variable which key the 
                            return keypress value).
01D2   3AFF           00553                 XORLW   0XFF            ;Check if value in W is equal to 0xFF.
01D3   1D03           00554                 BTFSS   STATUS,Z        ;Yes. This means the KEY_COL2 has returned a 0xFF in the W; ther
                            efore no keypress detected.
01D4   29E2           00555                 GOTO    FOUND2          ;No. A keypress is found from
                      00556 
Message[305]: Using default destination of 1 (file).
01D5   0D88           00557                 RLF     PORTD           ;Check Column3
01D6   2202           00558                 CALL    KEY_COL3        ;Check if there is any keypress in Row A,B,C or D of Column2 and
                             return a value for a corresponding key. 
                      00559                                         ;If no keypress found, the subroutine will return 0xFF in W regi
                            ter.
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01D7   00A5           00560                 MOVWF   KEY             ;Store the return value from W to KEY (a variable which key the 
                            return keypress value)
01D8   3AFF           00561                 XORLW   0XFF            ;Check if value in W is equal to 0xFF.
01D9   1D03           00562                 BTFSS   STATUS,Z        ;Yes. This means the KEY_COL3 has returned a 0xFF in the W; ther
                            efore no keypress detected.
01DA   29E8           00563                 GOTO    FOUND3          ;No. A keypress is found from
01DB   29C8           00564                 GOTO    GETKEY          ;Repeat the scanning non-stop
                      00565 
01DC   21EE           00566 FOUND1          CALL    KEY_COL1        ;Check whether if any key in Column1 still being pressed. If no 
                            key is pressed, a 0xFF will be returned in W.
01DD   3AFF           00567                 XORLW   H'FF'           ;Check if W is equal to 0xFF
01DE   1D03           00568                 BTFSS   STATUS,Z        ;Yes. This means the keypress is released by user.
01DF   29DC           00569                 GOTO    FOUND1          ;No. This means the keypress is still hold by user. Goto FOUND1 
                            and check again until user release the keypress.
01E0   0825           00570                 MOVFW   KEY             ;Proceed when user release the keypress and move the KEY value i
                            nto W.
01E1   0008           00571                 RETURN                  ;Return to the main program with the detected keypress value (KE
                            Y) in W.
                      00572 
01E2   21F8           00573 FOUND2          CALL    KEY_COL2        ;Check whether if any key in Column2 still being pressed. If no 
                            key is pressed, a 0xFF will be returned in W.
01E3   3AFF           00574                 XORLW   H'FF'           ;Check if W is equal to 0xFF
01E4   1D03           00575                 BTFSS   STATUS,Z        ;Yes. This means the keypress is released by user.
01E5   29E2           00576                 GOTO    FOUND2          ;No. This means the keypress is still hold by user. Goto FOUND1 
                            and check again until user release the keypress.
01E6   0825           00577                 MOVFW   KEY             ;Proceed when user release the keypress and move the KEY value i
                            nto W.
01E7   0008           00578                 RETURN                  ;Return to the main program with the detected keypress value (KE
                            Y) in W.
                      00579         
01E8   2202           00580 FOUND3          CALL    KEY_COL3        ;Check whether if any key in Column2 still being pressed. If no 
                            key is pressed, a 0xFF will be returned in W.
01E9   3AFF           00581                 XORLW   H'FF'           ;Check if W is equal to 0xFF
01EA   1D03           00582                 BTFSS   STATUS,Z        ;Yes. This means the keypress is released by user.
01EB   29E8           00583                 GOTO    FOUND3          ;No. This means the keypress is still hold by user. Goto FOUND1 
                            and check again until user release the keypress.
01EC   0825           00584                 MOVFW   KEY             ;Proceed when user release the keypress and move the KEY value i
                            nto W.
01ED   0008           00585                 RETURN                  ;Return to the main program with the detected keypress value (KE
                            Y) in W.
                      00586         
                      00587 ;check the "row" of the Matrix Keypad
01EE                  00588 KEY_COL1
01EE   220C           00589                 CALL    DEBOUNCE
01EF   1A08           00590                 BTFSC   PORTD,4         ;Check Row A of Column1
01F0   3431           00591                 RETLW   '1'             ;Return an ASCII for character '1' that is 0x31
01F1   1A88           00592                 BTFSC   PORTD,5         ;Check Row B of Column1
01F2   3434           00593                 RETLW   '4'             ;Return an ASCII for character '4' that is 0x34
01F3   1B08           00594                 BTFSC   PORTD,6         ;Check Row C of Column1
01F4   3437           00595                 RETLW   '7'             ;Return an ASCII for character '7' that is 0x37
01F5   1B88           00596                 BTFSC   PORTD,7         ;Check Row D of Column1
01F6   342A           00597                 RETLW   '*'             ;Return an ASCII for character '*' that is 0x2A
01F7   34FF           00598                 RETLW   0XFF    
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00599 
01F8                  00600 KEY_COL2
01F8   220C           00601                 CALL    DEBOUNCE
01F9   1A08           00602                 BTFSC   PORTD,4         ;Check Row D of Column2
01FA   3432           00603                 RETLW   '2'             ;Return an ASCII for character '2' that is 0x32
01FB   1A88           00604                 BTFSC   PORTD,5         ;Check Row D of Column2
01FC   3435           00605                 RETLW   '5'             ;Return an ASCII for character '1' that is 0x35
01FD   1B08           00606                 BTFSC   PORTD,6         ;Check Row D of Column2
01FE   3438           00607                 RETLW   '8'             ;Return an ASCII for character '1' that is 0x38
01FF   1B88           00608                 BTFSC   PORTD,7         ;Check Row D of Column2
0200   3430           00609                 RETLW   '0'             ;Return an ASCII for character '1' that is 0x30
0201   34FF           00610                 RETLW   0XFF    
                      00611 
0202                  00612 KEY_COL3
0202   220C           00613                 CALL    DEBOUNCE
0203   1A08           00614                 BTFSC   PORTD,4         ;Check Row D of Column3
0204   3433           00615                 RETLW   '3'             ;Return an ASCII for character '1' that is 0x33
0205   1A88           00616                 BTFSC   PORTD,5         ;Check Row D of Column3
0206   3436           00617                 RETLW   '6'             ;Return an ASCII for character '1' that is 0x36
0207   1B08           00618                 BTFSC   PORTD,6         ;Check Row D of Column3
0208   3439           00619                 RETLW   '9'             ;Return an ASCII for character '1' that is 0x39
0209   1B88           00620                 BTFSC   PORTD,7         ;Check Row D of Column3
020A   3423           00621                 RETLW   '#'             ;Return an ASCII for character '1' that is 0x23
020B   34FF           00622                 RETLW   0XFF    
                      00623 
                      00624 
                      00625 
                      00626 
020C                  00627 DEBOUNCE                                ;A push button tends to create 
020C   30FF           00628                 MOVLW   0XFF            ;unsettling signal when being pressed 
020D   00A6           00629                 MOVWF   LOOP1           ;or released. Therefore, a small delay 
Message[305]: Using default destination of 1 (file).
020E   0BA6           00630 D_LOOP          DECFSZ  LOOP1           ;routine is created to bypass this 
020F   2A0E           00631                 GOTO    D_LOOP          ;unsettling signal.
0210   0008           00632                 RETURN
                      00633 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0211   2179           00634 SELECTZONE      CALL    LCDSET
0212   2224           00635                 CALL    Z1MESSAGE               ;show zone1
0213   22AC           00636                 CALL    ZONECHECK
0214   22C5           00637                 CALL    ZONE10  
0215   2179           00638                 CALL    LCDSET
0216   223F           00639                 CALL    Z2MESSAGE
0217   22AC           00640                 CALL    ZONECHECK
0218   22C8           00641                 CALL    ZONE20  
0219   2179           00642                 CALL    LCDSET
021A   225B           00643                 CALL    Z3MESSAGE
021B   22AC           00644                 CALL    ZONECHECK
021C   22CB           00645                 CALL    ZONE30  
021D   2179           00646                 CALL    LCDSET                          
021E   2277           00647                 CALL    Z4MESSAGE
021F   22AC           00648                 CALL    ZONECHECK
0220   22CE           00649                 CALL    ZONE40
0221   2179           00650                 CALL    LCDSET
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00651                 ;CALL SHOWZONES         ;we should go to main SHOWZONES DOESNT RETURN
0222   2010           00652                 CALL    MAIN
0223   0008           00653                 RETURN
                      00654 
0224   01A0           00655 Z1MESSAGE       CLRF    LOOP            ;clear loop
0225   1624           00656                 BSF     RSLINE,4
0226   018A           00657                 CLRF    PCLATH  ;set RS for data send
0227   0820           00658 ZMS1            MOVF    LOOP,W          ;get table address
0228   2230           00659                 CALL    MSGZ1           ;get message letter
0229   3A00           00660                 XORLW   0X00            ;0x00 is the indicator for last data
022A   1903           00661                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
022B   2A2F           00662                 GOTO    MZ1             ;YES, so end the DATA SEND routine
022C   2192           00663                 CALL    LCDOUT          ;No, send the data to LCD for display
022D   0AA0           00664                 INCF    LOOP,F          ;inc loop
022E   2A27           00665                 GOTO    ZMS1            ;repeat for next one letter
022F   0008           00666 MZ1             RETURN  
0230   148A           00667 MSGZ1           BSF     PCLATH,1
0231   0782           00668                 ADDWF   PCL,F           
0232   3441 3443 3454 00669                 DT "ACTIVATE Z1?",0     ;0 is an indicator for end of string
       3449 3456 3441 
       3454 3445 3420 
       345A 3431 343F 
       3400 
                      00670 
023F   01A0           00671 Z2MESSAGE       CLRF    LOOP            ;clear loop
0240   1624           00672                 BSF     RSLINE,4
0241   018A           00673                 CLRF    PCLATH          ;set RS for data send
0242   0820           00674 ZMS2            MOVF    LOOP,W          ;get table address
0243   224C           00675                 CALL    MSGZ2           ;get message letter
0244   3A00           00676                 XORLW   0X00            ;0x00 is the indicator for last data
0245   1903           00677                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
0246   2A4A           00678                 GOTO    MZ2             ;YES, so end the DATA SEND routine
0247   2192           00679                 CALL    LCDOUT          ;No, send the data to LCD for display
0248   0AA0           00680                 INCF    LOOP,F          ;inc loop
0249   2A42           00681                 GOTO    ZMS2            ;repeat for next one letter
024A   018A           00682 MZ2             CLRF    PCLATH
024B   0008           00683                         RETURN  
024C   148A           00684 MSGZ2           BSF     PCLATH,1
024D   0782           00685                         ADDWF   PCL,F           
024E   3441 3443 3454 00686                         DT "ACTIVATE Z2?",0     ;0 is an indicator for end of string
       3449 3456 3441 
       3454 3445 3420 
       345A 3432 343F 
       3400 
                      00687 
025B   01A0           00688 Z3MESSAGE       CLRF    LOOP            ;clear loop
025C   1624           00689                 BSF     RSLINE,4
025D   018A           00690                 CLRF    PCLATH          ;set RS for data send
025E   0820           00691 ZMS3            MOVF    LOOP,W          ;get table address
025F   2268           00692                 CALL    MSGZ3           ;get message letter
0260   3A00           00693                 XORLW   0X00            ;0x00 is the indicator for last data
0261   1903           00694                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
0262   2A66           00695                 GOTO    MZ3             ;YES, so end the DATA SEND routine
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0263   2192           00696                 CALL    LCDOUT          ;No, send the data to LCD for display
0264   0AA0           00697                 INCF    LOOP,F          ;inc loop
0265   2A5E           00698                 GOTO    ZMS3            ;repeat for next one letter
0266   018A           00699 MZ3             CLRF    PCLATH
0267   0008           00700                 RETURN  
0268   148A           00701 MSGZ3           BSF     PCLATH,1
0269   0782           00702                 ADDWF   PCL,F           
026A   3441 3443 3454 00703                 DT "ACTIVATE Z3?",0     ;0 is an indicator for end of string
       3449 3456 3441 
       3454 3445 3420 
       345A 3433 343F 
       3400 
                      00704 
0277   01A0           00705 Z4MESSAGE       CLRF    LOOP            ;clear loop
0278   1624           00706                 BSF     RSLINE,4
0279   018A           00707                 CLRF    PCLATH          ;set RS for data send
027A   0820           00708 ZMS4            MOVF    LOOP,W          ;get table address
027B   2283           00709                 CALL    MSGZ4           ;get message letter
027C   3A00           00710                 XORLW   0X00            ;0x00 is the indicator for last data
027D   1903           00711                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
027E   2A82           00712                 GOTO    MZ4             ;YES, so end the DATA SEND routine
027F   2192           00713                 CALL    LCDOUT          ;No, send the data to LCD for display
0280   0AA0           00714                 INCF    LOOP,F          ;inc loop
0281   2A7A           00715                 GOTO    ZMS4            ;repeat for next one letter
0282   0008           00716 MZ4             RETURN  
0283   148A           00717 MSGZ4           BSF     PCLATH,1
0284   0782           00718                 ADDWF   PCL,F           
0285   3441 3443 3454 00719                 DT "ACTIVATE Z4?",0     ;0 is an indicator for end of string
       3449 3456 3441 
       3454 3445 3420 
       345A 3434 343F 
       3400 
                      00720 
0292   01A0           00721 Z5MESSAGE       CLRF    LOOP            ;clear loop
0293   1624           00722                 BSF     RSLINE,4
0294   148A           00723                 BSF     PCLATH,1        ;set RS for data send
0295   0820           00724 ZMS5            MOVF    LOOP,W          ;get table address
0296   229F           00725                 CALL    MSGZ5           ;get message letter
0297   3A00           00726                 XORLW   0X00            ;0x00 is the indicator for last data
0298   1903           00727                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
0299   2A9D           00728                 GOTO    MZ5             ;YES, so end the DATA SEND routine
029A   2192           00729                 CALL    LCDOUT          ;No, send the data to LCD for display
029B   0AA0           00730                 INCF    LOOP,F          ;inc loop
029C   2A95           00731                 GOTO    ZMS5            ;repeat for next one letter
029D   018A           00732 MZ5             CLRF    PCLATH
029E   0008           00733                 RETURN  
029F   0782           00734 MSGZ5           ADDWF   PCL,F           
02A0   342A 342D 3420 00735                 DT  "*- YES #-NO",0     ;0 is an indicator for end of string
       3459 3445 3453 
       3420 3423 342D 
       344E 344F 3400 
                      00736 
                      00737 
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00738 
                      00739 
                      00740 
                      00741 
                      00742 
02AC   30C0           00743 ZONECHECK       MOVLW   H'C0'
02AD   21A5           00744                 CALL    LCDCMD  
02AE   2292           00745                 CALL    Z5MESSAGE
02AF   01C4           00746                 CLRF    ZONECHK
                      00747                         
02B0   22BC           00748 LABAS           CALL    CHSOUINON
02B1   21C8           00749                 CALL    GETKEY
02B2   00C3           00750                 MOVWF   YESORNO
                      00751                 
02B3   0843           00752                 MOVFW   YESORNO                 
Message[305]: Using default destination of 1 (file).
02B4   06C1           00753                 XORWF   YES
02B5   1903           00754                 BTFSC   STATUS, Z
02B6   2AC1           00755                 GOTO    VARZONECHK1
Message[305]: Using default destination of 1 (file).
02B7   06C2           00756                 XORWF   NO
02B8   1903           00757                 BTFSC   STATUS, Z
02B9   2AC3           00758                 GOTO    VARZONECHK2
02BA   2AB0           00759                 GOTO    LABAS
02BB   0008           00760 LA              RETURN
                      00761 
                      00762 
                      00763 
                      00764 
                      00765 
02BC   302A           00766 CHSOUINON       MOVLW   H'2A'
02BD   00C1           00767                 MOVWF   YES
                      00768                 
02BE   3023           00769                 MOVLW   H'23'
02BF   00C2           00770                 MOVWF   NO
02C0   0008           00771                 RETURN  
                      00772 
                      00773 
                      00774 
                      00775                         
                      00776 
                      00777 
                      00778 
02C1   14C4           00779 VARZONECHK1     BSF     ZONECHK,1
02C2   2ABB           00780                 GOTO    LA
                      00781                         
                      00782 
02C3   10C4           00783 VARZONECHK2     BCF     ZONECHK,1
02C4   2ABB           00784                 GOTO    LA 
                      00785 
                      00786 
                      00787 
                      00788 
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00789 
                      00790 
                      00791 
02C5   18C4           00792 ZONE10          BTFSC   ZONECHK,1
02C6   1445           00793                 BSF     ZONE1,0
02C7   0008           00794                 RETURN
                      00795 
                      00796 
02C8   18C4           00797 ZONE20          BTFSC   ZONECHK,1
02C9   1446           00798                 BSF     ZONE2,0
02CA   0008           00799                 RETURN
                      00800 
                      00801 
                      00802 
02CB   18C4           00803 ZONE30          BTFSC   ZONECHK,1
02CC   1447           00804                 BSF     ZONE3,0
02CD   0008           00805                 RETURN
                      00806 
                      00807 
02CE   18C4           00808 ZONE40          BTFSC   ZONECHK,1
02CF   1448           00809                 BSF     ZONE4,0
02D0   0008           00810                 RETURN
                      00811                         
                      00812 
                      00813 
02D1   2179           00814 SHOWZONES       CALL    LCDSET
02D2   22DE           00815                 CALL    ACTIVMSG
02D3   30C0           00816                 MOVLW   H'C0'
02D4   21A5           00817                 CALL    LCDCMD  
02D5   1845           00818                 BTFSC   ZONE1,0
02D6   22FB           00819                 CALL    Z7MESSAGE       
02D7   1846           00820                 BTFSC   ZONE2,0
02D8   230C           00821                 CALL    Z8MESSAGE       
02D9   1847           00822                 BTFSC   ZONE3,0
02DA   231D           00823                 CALL    Z9MESSAGE       
02DB   1848           00824                 BTFSC   ZONE4,0
02DC   232F           00825                 CALL    Z10MESSAGE
02DD   0008           00826                 RETURN
                      00827 
                      00828 
                      00829 
02DE   01A0           00830 ACTIVMSG        CLRF    LOOP            ;clear loop
02DF   1624           00831                 BSF     RSLINE,4
02E0   018A           00832                 CLRF    PCLATH  ;set RS for data send
02E1   0820           00833 ZMS6            MOVF    LOOP,W
02E2   018A           00834                 CLRF    PCLATH          ;get table address
02E3   22EB           00835                 CALL    MSGZ6           ;get message letter
02E4   3A00           00836                 XORLW   0X00            ;0x00 is the indicator for last data
02E5   1903           00837                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
02E6   2AEA           00838                 GOTO    MZ6                     ;YES, so end the DATA SEND routine
02E7   2192           00839                 CALL    LCDOUT          ;No, send the data to LCD for display
02E8   0AA0           00840                 INCF    LOOP,F          ;inc loop
02E9   2AE1           00841                 GOTO    ZMS6            ;repeat for next one letter
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02EA   0008           00842 MZ6             RETURN  
02EB   148A           00843 MSGZ6           BSF     PCLATH,1
02EC   0782           00844                 ADDWF   PCL,F           
02ED   3441 3443 3454 00845                 DT "ACTIVE ZONES:",0    ;0 is an indicator for end of string
       3449 3456 3445 
       3420 345A 344F 
       344E 3445 3453 
       343A 3400 
                      00846 
02FB   01A0           00847 Z7MESSAGE       CLRF    LOOP            ;clear loop
02FC   1624           00848                 BSF     RSLINE,4
02FD   018A           00849                 CLRF    PCLATH          ;set RS for data send
02FE   0820           00850 ZMS7            MOVF    LOOP,W          ;get table address
02FF   2307           00851                 CALL    MSGZ7           ;get message letter
0300   3A00           00852                 XORLW   0X00            ;0x00 is the indicator for last data
0301   1903           00853                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
0302   2B06           00854                 GOTO    MZ7             ;YES, so end the DATA SEND routine
0303   2192           00855                 CALL    LCDOUT          ;No, send the data to LCD for display
0304   0AA0           00856                 INCF    LOOP,F          ;inc loop
0305   2AFE           00857                 GOTO    ZMS7            ;repeat for next one letter
0306   0008           00858 MZ7             RETURN  
0307   148A           00859 MSGZ7           BSF     PCLATH,1
0308   0782           00860                 ADDWF   PCL,F           
0309   3420 3431 3400 00861                 DT " 1",0       ;0 is an indicator for end of string
                      00862 
                      00863 
030C   01A0           00864 Z8MESSAGE       CLRF    LOOP            ;clear loop
030D   1624           00865                 BSF     RSLINE,4
030E   140A           00866                 BSF     PCLATH,0   ;;;;;;;;;;;;;;;;ITS WORKING!!
                      00867                 ;CLRF   PCLATH          ;set RS for data send
030F   0820           00868 ZMS8            MOVF    LOOP,W          ;get table address
0310   2319           00869                 CALL    MSGZ8           ;get message letter
0311   3A00           00870                 XORLW   0X00            ;0x00 is the indicator for last data
0312   1903           00871                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
0313   2B17           00872                 GOTO    MZ8             ;YES, so end the DATA SEND routine
0314   2192           00873                 CALL    LCDOUT          ;No, send the data to LCD for display
0315   0AA0           00874                 INCF    LOOP,F          ;inc loop
0316   2B0F           00875                 GOTO    ZMS8            ;repeat for next one letter
0317   018A           00876 MZ8             CLRF    PCLATH
0318   0008           00877                 RETURN  
0319                  00878 MSGZ8           
0319   0782           00879                 ADDWF   PCL,F           
031A   3420 3432 3400 00880                 DT " 2",0               ;0 is an indicator for end of string
                      00881                         
031D   01A0           00882 Z9MESSAGE       CLRF    LOOP            ;clear loop
031E   1624           00883                 BSF     RSLINE,4
031F   018A           00884                 CLRF    PCLATH
0320   0820           00885 ZMS9            MOVF    LOOP,W          ;get table address
0321   2329           00886                 CALL    MSGZ9           ;get message letter
0322   3A00           00887                 XORLW   0X00            ;0x00 is the indicator for last data
0323   1903           00888                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
0324   2B28           00889                 GOTO    MZ9             ;YES, so end the DATA SEND routine
0325   2192           00890                 CALL    LCDOUT          ;No, send the data to LCD for display
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0326   0AA0           00891                 INCF    LOOP,F          ;inc loop
0327   2B20           00892                 GOTO    ZMS9            ;repeat for next one letter
0328   0008           00893 MZ9             RETURN  
0329   148A           00894 MSGZ9           BSF     PCLATH,1
032A   140A           00895                 BSF     PCLATH,0
032B   0782           00896                 ADDWF   PCL,F           
032C   3420 3433 3400 00897                 DT " 3",0               ;0 is an indicator for end of string
                      00898 
032F   01A0           00899 Z10MESSAGE      CLRF    LOOP            ;clear loop
0330   1624           00900                 BSF     RSLINE,4
0331   018A           00901                 CLRF    PCLATH          ;set RS for data send
0332   0820           00902 ZMS10           MOVF    LOOP,W          ;get table address
0333   233B           00903                 CALL    MSGZ10          ;get message letter
0334   3A00           00904                 XORLW   0X00            ;0x00 is the indicator for last data
0335   1903           00905                 BTFSC   STATUS,Z        ;has last LCD letter been sent?
0336   2B3A           00906                 GOTO    MZ10            ;YES, so end the DATA SEND routine
0337   2192           00907                 CALL    LCDOUT          ;No, send the data to LCD for display
0338   0AA0           00908                 INCF    LOOP,F          ;inc loop
0339   2B32           00909                 GOTO    ZMS10           ;repeat for next one letter
033A   0008           00910 MZ10            RETURN  
033B   148A           00911 MSGZ10          BSF     PCLATH,1
033C   140A           00912                 BSF     PCLATH,0
033D   0782           00913                 ADDWF   PCL,F           
033E   3420 3434 3400 00914                 DT " 4",0               ;0 is an indicator for end of string
                      00915 
                      00916 
                      00917                 END
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 21


SYMBOL TABLE
  LABEL                             VALUE 

ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ACTIVMSG                          000002DE
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
APWD1                             00000031
APWD2                             00000032
APWD3                             00000033
APWD4                             00000034
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
BUZZ                              000000B0
C                                 00000000
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2                             0000001B
CCPR2H                            0000001C
CCPR2L                            0000001B
CHKMEN                            00000027
CHKPWD                            0000004A
CHKZONMEN                         0000008B
CHS0                              00000003
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 22


SYMBOL TABLE
  LABEL                             VALUE 

CHS1                              00000004
CHS2                              00000005
CHSOUINON                         000002BC
CKE                               00000006
CKP                               00000004
CLKCNT                            00000022
CONFIRM                           00000037
CONFMS2                           0000013D
CONFMSG                           0000013B
CREN                              00000004
CSRC                              00000007
D                                 00000005
DATA_ADDRESS                      00000005
DATA_EE_ADDR                      00000000
DATA_EE_DATA                      00000005
DC                                00000001
DEBOUNCE                          0000020C
DEFAUTPWD                         0000003C
DELAY                             00000195
DELAY1                            00000176
D_A                               00000005
D_LOOP                            0000020E
D_NOT_A                           00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
ERRMS2                            0000015D
ERRMSG                            0000015A
F                                 00000001
FERR                              00000002
FOUND1                            000001DC
FOUND2                            000001E2
FOUND3                            000001E8
FSR                               00000004
GCEN                              00000007
GETKEY                            000001C8
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
GO_NOT_DONE                       00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 23


SYMBOL TABLE
  LABEL                             VALUE 

INITZONE                          00000045
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
KEY                               00000025
KEY_COL1                          000001EE
KEY_COL2                          000001F8
KEY_COL3                          00000202
LA                                000002BB
LABAS                             000002B0
LCDCMD                            000001A5
LCDDATA                           000001A2
LCDMS2                            00000189
LCDMSG                            00000187
LCDOUT                            00000192
LCDSET                            00000179
LCDST2                            0000017C
LOOP                              00000020
LOOP1                             00000026
LOOPA                             00000021
LOOPB                             00000049
MAIN                              00000010
MENKEY                            00000038
MENU                              00000021
MENU1                             00000039
MENU2                             00000040
MENU3                             0000004A
MESSAG                            000001B7
MSGCONF                           00000148
MSGEND                            00000191
MSGEND1                           00000146
MSGEND2                           00000165
MSGERR                            00000167
MSGSET                            0000010E
MSGSET1                           0000010C
MSGSETPWD                         000000F3
MSGSETPWD1                        000000F2
MSGSHWZONE                        000000BF
MSGSHWZONE1                       000000BE
MSGSLTZ                           000000A3
MSGSLTZ1                          000000A1
MSGSLTZONE                        000000D8
MSGSLTZONE1                       000000D7
MSGZ1                             00000230
MSGZ10                            0000033B
MSGZ2                             0000024C
MSGZ3                             00000268
MSGZ4                             00000283
MSGZ5                             0000029F
MSGZ6                             000002EB
MSGZ7                             00000307
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 24


SYMBOL TABLE
  LABEL                             VALUE 

MSGZ8                             00000319
MSGZ9                             00000329
MSGZONE                           00000129
MSGZONE1                          00000127
MZ1                               0000022F
MZ10                              0000033A
MZ2                               0000024A
MZ3                               00000266
MZ4                               00000282
MZ5                               0000029D
MZ6                               000002EA
MZ7                               00000306
MZ8                               00000317
MZ9                               00000328
NAYE                              0000001D
NO                                00000042
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
OERR                              00000001
OPTION_REG                        00000081
P                                 00000004
PAUS                              00000174
PAUSE                             000001AB
PAUSIT                            000001A8
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 25


SYMBOL TABLE
  LABEL                             VALUE 

PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
PWD1                              00000027
PWD2                              00000028
PWD3                              00000029
PWD4                              00000030
R                                 00000002
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RC0                               00000000
RC1                               00000001
RC2                               00000002
RC3                               00000003
RC4                               00000004
RC5                               00000005
RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RD0                               00000000
RD1                               00000001
RD2                               00000002
RD3                               00000003
RD4                               00000004
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 26


SYMBOL TABLE
  LABEL                             VALUE 

RD5                               00000005
RD6                               00000006
RD7                               00000007
RE0                               00000000
RE1                               00000001
RE2                               00000002
READ_WRITE                        00000002
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RSLINE                            00000024
RX9                               00000006
RX9D                              00000000
R_NOT_W                           00000002
R_W                               00000002
S                                 00000003
SELECTZONE                        00000211
SEN                               00000000
SENDIT                            0000019A
SETEND                            00000185
SETMENV                           00000035
SETMS2                            00000104
SETMSG                            00000101
SETPWD                            00000070
SETPWDMSG                         000000E7
SETPWDMSG2                        000000EA
SHOWZONES                         000002D1
SHWZONEMSG                        000000B3
SHWZONEMSG2                       000000B6
SLTZMS2                           00000098
SLTZMSG                           00000096
SLTZONEMSG                        000000CC
SLTZONEMSG2                       000000CF
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
START                             00000001
STATUS                            00000003
STORE                             00000023
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 27


SYMBOL TABLE
  LABEL                             VALUE 

SUBSETPWD                         00000074
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TABLCD                            000001B1
TEMP1                             00000036
TEMPXOR                           00000035
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1                              0000000E
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRICKER                           00000050
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 28


SYMBOL TABLE
  LABEL                             VALUE 

TRISC                             00000087
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRISD                             00000088
TRISD0                            00000000
TRISD1                            00000001
TRISD2                            00000002
TRISD3                            00000003
TRISD4                            00000004
TRISD5                            00000005
TRISD6                            00000006
TRISD7                            00000007
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
VARZONECHK1                       000002C1
VARZONECHK2                       000002C3
W                                 00000000
WCOL                              00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
YES                               00000041
YESORNO                           00000043
Z                                 00000002
Z10MESSAGE                        0000032F
Z1MESSAGE                         00000224
Z2MESSAGE                         0000023F
Z3MESSAGE                         0000025B
Z4MESSAGE                         00000277
Z5MESSAGE                         00000292
Z7MESSAGE                         000002FB
Z8MESSAGE                         0000030C
Z9MESSAGE                         0000031D
ZMS1                              00000227
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 29


SYMBOL TABLE
  LABEL                             VALUE 

ZMS10                             00000332
ZMS2                              00000242
ZMS3                              0000025E
ZMS4                              0000027A
ZMS5                              00000295
ZMS6                              000002E1
ZMS7                              000002FE
ZMS8                              0000030F
ZMS9                              00000320
ZONE1                             00000045
ZONE10                            000002C5
ZONE2                             00000046
ZONE20                            000002C8
ZONE3                             00000047
ZONE30                            000002CB
ZONE4                             00000048
ZONE40                            000002CE
ZONECHECK                         000002AC
ZONECHK                           00000044
ZONEMS2                           0000011F
ZONEMSG                           0000011C
ZONMEN                            00000085
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_BOREN_OFF                        00003FBF
_BOREN_ON                         00003FFF
_CONFIG                           00002007
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00000FCF
_CP_HALF                          00001FDF
_CP_OFF                           00003FFF
_CP_UPPER_256                     00002FEF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_DEVID1                           00002006
_FOSC_EXTRC                       00003FFF
_FOSC_HS                          00003FFE
_FOSC_LP                          00003FFC
_FOSC_XT                          00003FFD
_HS_OSC                           00003FFE
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDTE_OFF                         00003FFB
_WDTE_ON                          00003FFF
MPASM 5.72             16F877_LCD_KEYPAD.ASM   4-10-2017  16:12:45         PAGE 30


SYMBOL TABLE
  LABEL                             VALUE 

_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_ENABLE_OFF                   00003DFF
_WRT_ENABLE_ON                    00003FFF
_WRT_OFF                          00003DFF
_WRT_ON                           00003FFF
_XT_OSC                           00003FFD
__16F877A                         00000001
__DEBUG                           
__MPLAB_DEBUGGER_SIMULATOR        1


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : X--------------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   833
Program Memory Words Free:  7359


Errors   :     0
Warnings :     3 reported,     0 suppressed
Messages :    20 reported,     0 suppressed

